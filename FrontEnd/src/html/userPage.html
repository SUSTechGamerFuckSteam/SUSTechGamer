<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SUSTech_Gamer - user</title>
    <link rel="stylesheet" type="text/css" href="../css/userPage.css" />
    <script rel="text/javascript" src="../script/ServerInteraction.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
    <div id="headerDiv">
        <a class="link" style="margin-left: 20px;" href="Store.html">Store | </a>
        <a class="link">Community | </a>
        <a>first | </a>
        <a>first | </a>
        <a class="link" style="margin-left: 1170px;" href="login.html">sign-in</a>
        <a class="link" href="register.html" style="margin-left: 15px;">sign-up</a>
    </div>
    <div id="mainDiv">
        <div class="inlineDiv" style="background-color: white;position: relative;">
            <div id="userInfo">
                <label class="userInfo" style="margin-top: 10px;">UserName:</label><span class="userInfo" v-if="userNameSeen" style="margin-top: 10px;">{{userName}}</span><input type="text" class="userInfo" v-model="userName" v-if="!userNameSeen" style="margin-top: 10px;"
                /></br>

                <label class="userInfo">Birthday:</label><span class="userInfo" v-if="birthdaySeen">{{birthday}}</span><input type="date" class="userInfo" v-if="!birthdaySeen" v-model="birthday" /></br>

                <label class="userInfo">Gender:</label><span class="userInfo" v-if="genderSeen">{{gender}}</span>
                <select v-if="!genderSeen" style="margin-left: 30px;color: rgb(70, 115, 121);" v-model="gender">
                    <option>Man</option>
                    <option>Woman</option>
                </select></br>
                <label class="userInfo">Role:</label><span class="userInfo" v-if="roleSeen">{{role}}</span>
                <select v-if="!roleSeen" style="margin-left: 30px;color: rgb(70, 115, 121);" v-model="role">
                    <option>User</option>
                    <option>Developer</option>
                </select></br>
                <textarea v-if="!introductionSeen" style="resize: none;width:240px;height:50px;margin-left: 30px;color: rgb(70, 115, 121); " v-model="introduction"></textarea>
                <textarea v-if="introductionSeen" disabled="false" style="resize: none;width:240px;height:50px;margin-left: 30px;background-color: aquamarine; color: rgb(70, 115, 121);" v-model="introduction"></textarea>
                <a class="button" href="#" style="width:85px;margin-top: 0px;margin-left: 30px;font-weight: lighter;font-size: 15px;" v-on:click="modifyUserInfo">{{modify}}</a>

            </div>
            <p class="imgReminder">User Info</p>
        </div>
        <div class="inlineDiv" style="position:relative;">
            <img id="userImg" src="../../figures/temporary/userPageImgs/bing0.jpg" style="margin-bottom: 10px">
            <p class="imgReminder">Talyor Swift</p>
        </div>
        <div class="inlineDiv" style="background-color: aquamarine;">
            <!-- <div id="fansDiv">
                <p style="text-align: center; font-size:20px;height:50px;margin-top:70px;margin-bottom: 0px;">Fans</p>
                <p style="text-align: center;margin-top: 20px;">100</p>
            </div>
            <div id="followerDiv">
                <p style="text-align: center; font-size:20px;height:50px;margin-top: 70px;margin-bottom: 0px;">Followers</p>
                <p style="text-align: center;margin-top: 20px;">500</p>
            </div> -->
            <div id="moneyDiv">{{balance}}</div>
            <a class="button" href="#" style="width:85px;margin: 0px 130px;float: left;">充值</a>
            <p class="imgReminder">My Account</p>
        </div>
        <p class="clasify">
            <span id="reminder">My Game</span>
        </p>

        <div class="inlineDiv" style="position: relative;">
            <img class="gameImg" src="../../figures/temporary/userPageImgs/game01.jpg">
            <p class="imgReminder">Game ONE</p>
        </div>
        <div class="inlineDiv" style="position: relative;">
            <img class="gameImg" src="../../figures/temporary/userPageImgs/game02.jpg">
            <p class="imgReminder">Game TWO</p>
        </div>
        <div class="inlineDiv" style="position: relative;">
            <img class="gameImg" src="../../figures/temporary/userPageImgs/game03.jpg">
            <p class="imgReminder">Game THREE</p>
        </div>
        <div class="inlineDiv"></div>
        <div class="inlineDiv"></div>
        <div class="inlineDiv"></div>
        <div class="inlineDiv" style="width:30px;height:20px;margin-left: 1100px;text-align: center;">
            <a class="button" href="#" style="margin: 0px;">&lt</a>
        </div>
        <div class="inlineDiv" style="width:30px;height:20px;margin-left: 0px;text-align: center;">
            <a class="button" href="#" style="margin: 0px;">&gt</a>
        </div>

        <p class="clasify">
            <span id="reminder">Developer Option</span>
        </p>

        <div class="inlineDiv" style="position: relative;">
            <img class="optionImg" src="../../figures/temporary/userPageImgs/OPTION.png">
            <a href="gamePage.html" style="position: absolute;display: block;width: 220px;height: 200px;top: 20px;left: 65px;z-index: 5;"></a>
            <p class="imgReminder">OPTION ONE</p>
        </div>
        <div class="inlineDiv" style="position: relative;">
            <img class="optionImg" src="../../figures/temporary/userPageImgs/OPTION.png">
            <a href="test3.html" style="position: absolute;display: block;width: 220px;height: 200px;top: 20px;left: 65px;z-index: 5;"></a>
            <p class="imgReminder">OPTION TWO</p>
        </div>
        <div class="inlineDiv" style="position: relative;">
            <img class="optionImg" src="../../figures/temporary/userPageImgs/OPTION.png">
            <a href="gamePage.html" style="position: absolute;display: block;width: 220px;height: 200px;top: 20px;left: 65px;z-index: 5;"></a>
            <p class="imgReminder">OPTION THREE</p>
        </div>
        <div class="inlineDiv">
            <img class="optionImg" src="../../figures/temporary/userPageImgs/OPTION.png">
        </div>
    </div>
</body>
<script>
    var vm = new Vue({
        el: "#mainDiv",
        data: {
            userNameSeen: true,
            userName: "hh",
            birthdaySeen: true,
            birthday: "2019-08-05",
            genderSeen: true,
            gender: "Woman",
            roleSeen: true,
            role: "Developer",
            introductionSeen: true,
            introduction: "hh\nhh\nnima",
            balance: 520,
            modify: "Modify",

        },
        created: function() {

            outThis = this
            ajax("get", "http://10.21.52.79:8080/test/getFullInfo?uid=1", null, function(xmlHttp) {
                var result = JSON.parse(xmlHttp.responseText)
                console.log(xmlHttp.responseText)
                outThis.userName = result.userName
                outThis.birthday = result.birthday
                outThis.introduction = result.intro
                if (result.role == 1) {
                    outThis.role = "User"
                } else {
                    outThis.role = "Developer"
                }
                if (result.sex == "M") {
                    outThis.gender = "Man"
                } else {
                    outThis.gender = "Woman"
                }
                outThis.balance = result.balance
            })
        },
        methods: {
            modifyUserInfo: function() {
                if (this.modify == "Modify") {
                    this.userNameSeen = false
                    this.birthdaySeen = false
                    this.genderSeen = false
                    this.roleSeen = false
                    this.introductionSeen = false
                    this.modify = "Submit"
                } else {
                    this.userNameSeen = true
                    this.birthdaySeen = true
                    this.genderSeen = true
                    this.roleSeen = true
                    this.introductionSeen = true
                    this.modify = "Modify"
                    var formData = new FormData()

                }

            }
        }
    })
</script>

</html>